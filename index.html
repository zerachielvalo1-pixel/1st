<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>MBTI Personality Test</title>

<style>
body {
    margin: 0;
    font-family: "Segoe UI", Arial, sans-serif;
    background: #f2f4f8;
    display: flex;
    justify-content: center;
    align-items: center;
    min-height: 100vh;
}

/* SHARED */
.hidden { display: none; }
.card {
    background: white;
    width: 90%;
    max-width: 460px;
    padding: 30px;
    border-radius: 18px;
    box-shadow: 0 15px 35px rgba(0,0,0,0.15);
    text-align: center;
}
button {
    width: 100%;
    padding: 14px;
    margin: 10px 0;
    font-size: 16px;
    border-radius: 10px;
    border: 2px solid #4a90e2;
    background: white;
    color: #4a90e2;
    cursor: pointer;
}
button:hover {
    background: #4a90e2;
    color: white;
}
.progress {
    font-size: 12px;
    color: #888;
    margin-bottom: 15px;
}

/* FINAL PAGE */
.final {
    background: linear-gradient(180deg, #fff0f3, #ffe5ec);
    padding-bottom: 40px;
}
.hero img {
    width: 90%;
    max-width: 420px;
    border-radius: 20px;
    box-shadow: 0 15px 40px rgba(0,0,0,0.25);
    margin-top: 30px;
}
.letter {
    background: rgba(255,255,255,0.95);
    padding: 30px;
    margin: 30px auto;
    border-radius: 20px;
    line-height: 1.8;
    max-width: 700px;
    box-shadow: 0 10px 30px rgba(0,0,0,0.12);
}
.letter h2 {
    text-align: center;
    color: #ff4d6d;
}
.collage {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(140px, 1fr));
    gap: 15px;
    max-width: 700px;
    margin: auto;
}
.collage img {
    width: 100%;
    border-radius: 15px;
    transform: rotate(var(--r));
    box-shadow: 0 8px 20px rgba(0,0,0,0.2);
}
.music-btn {
    position: fixed;
    bottom: 20px;
    right: 20px;
    background: #ff4d6d;
    color: white;
    border: none;
    border-radius: 50px;
    padding: 12px 18px;
    cursor: pointer;
}
</style>
</head>

<body>

<!-- MUSIC -->
<audio id="bgm" loop>
    <source src="music.mp3" type="audio/mpeg">
</audio>
<button class="music-btn hidden" id="musicBtn">▶ Play Music</button>

<!-- MBTI QUIZ -->
<div class="card" id="quiz">

    <div id="q1">
        <div class="progress">Question 1 of 3</div>
        <h3>You feel energized when you…</h3>
        <button class="next">Spend time with people</button>
        <button class="next">Spend time alone</button>
    </div>

    <div id="q2" class="hidden">
        <div class="progress">Question 2 of 3</div>
        <h3>You trust more in…</h3>
        <button class="next">Facts and logic</button>
        <button class="next">Feelings and intuition</button>
    </div>

    <div id="q3" class="hidden">
        <div class="progress">Question 3 of 3</div>
        <h3>Your last month has been…</h3>
        <button id="finish">The best one yet</button>
        <button id="finish">Pretty meaningful</button>
    </div>

    <div id="loading" class="hidden">
        <h3>Calculating your MBTI type…</h3>
        <p>Please wait</p>
    </div>

</div>

<!-- FINAL PAGE -->
<div id="final" class="hidden final">

    <div class="hero" style="text-align:center;">
        <img src="main.jpg" alt="Us">
    </div>

    <div class="letter">
        <h2>Happy 1st Monthsary ❤️</h2>

        <p>
            <!-- ✏️ WRITE YOUR LONG MESSAGE HERE -->
            I know you thought this was just an MBTI test,
            but I wanted to surprise you with something more meaningful.
            This past month with you has been something I’ll always treasure.
        </p>

        <p>
            Every laugh, every conversation, every little moment
            has made my days brighter. Thank you for being you,
            and for choosing me.
        </p>

        <p>
            Here’s to many more months together.
        </p>

        <p>
            Always yours,<br>
            <strong>[Your Name]</strong>
        </p>
    </div>

    <div class="collage">
        <img src="photo1.jpg" style="--r:-4deg">
        <img src="photo2.jpg" style="--r:3deg">
        <img src="photo3.jpg" style="--r:-2deg">
        <img src="photo4.jpg" style="--r:4deg">
    </div>

</div>

<script>
let step = 1;

// advance quiz
document.querySelectorAll(".next").forEach(btn => {
    btn.addEventListener("click", () => {
        document.getElementById("q" + step).classList.add("hidden");
        step++;
        document.getElementById("q" + step).classList.remove("hidden");
    });
});

// finish quiz
document.querySelectorAll("#finish").forEach(btn => {
    btn.addEventListener("click", () => {
        document.getElementById("q3").classList.add("hidden");
        document.getElementById("loading").classList.remove("hidden");

        setTimeout(() => {
            document.getElementById("quiz").classList.add("hidden");
            document.getElementById("final").classList.remove("hidden");
            document.getElementById("musicBtn").classList.remove("hidden");
        }, 2500);
    });
});

// music toggle
const music = document.getElementById("bgm");
const musicBtn = document.getElementById("musicBtn");
let playing = false;

musicBtn.addEventListener("click", () => {
    if (!playing) {
        music.play();
        musicBtn.textContent = "⏸ Pause Music";
    } else {
        music.pause();
        musicBtn.textContent = "▶ Play Music";
    }
    playing = !playing;
});
</script>

</body>
</html>
